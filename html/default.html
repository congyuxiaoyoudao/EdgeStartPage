<!--
 * @Author: congyuxiaoyoudao
 * @Date: 2025-01-21
 * @Description: html file
-->
<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>新标签页</title>
    <link rel="icon" href="../rc/favicon.ico" type="image/x-icon">
    <!-- 引用CSS文件 -->
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <div class="h-full" id="vertical-container">
        <div id="header-dummy"></div>
        <div class="w-full" id="time-wrap">
            <div id="time-box">
                <time class="time" id="hour">16</time>
                <span class="time">:</span>
                <time class="time" id="minute">50</time>
            </div>
            <div id="date-box">
                <span id="date" class="date-info">date</span>
                <span id="weekday" class="date-info">weekday</span>
                <span id="lunarday" class="date-info">lunarday</span>
            </div>

        </div>
        <div class="w-full" id="search-form-wrap">
            <div id="search-box">
                <form action="https://www.bing.com/search" method="get" autocomplete="off" id="search-form">
                    <div id="select-engine" class="h-full">
                        <img id="engine-icon" src="../rc/bing.svg" width="20px" height="20px">
                        <img id= "dropdown" src="../rc/down-arrow.png" width="12px" height="12px">
                    </div>

                    <input type="text" class="w-full" id="inputbox" name="q" placeholder="要搜点什么呢～(∠・ω< )⌒★">
                    <button type="submit" id="search">
                        <img src="../rc/search.png" width="20px" height="20px">
                    </button>
                </form>
                <div id="search-down">
                    <div class="search-engine-list h-full">
                        <li class="search-engine" onclick="changeEngine('https://www.bing.com/search',0);foldDropdown()">
                            <span><img class="engine-icon" src="../rc/bing.svg" width="20px" height="20px"></span>
                            <p class="engine-name w-full">必应</p>
                        </li>
                        <li class="search-engine" onclick="changeEngine('https://www.google.com/search',1);foldDropdown();">
                            <span><img class="engine-icon" src="../rc/google.png" width="20px" height="20px"></span>
                            <p class="engine-name w-full">谷歌</p>
                        </li>
                    </div>
                </div>
            </div>
        </div>
        <div class="hitokoto"></div>
        <div id="footer-dummy" class="h-full"></div>
    </div>

    <video class="wallpaper w-full h-full" src="../rc/bg.mp4" autoplay="autoplay" loop="loop" muted="mute"></video>
<!-- 农历日期 -->
<script src="../js/lunar.js"></script>
<script>
    function updateTime() {
        // date
        const now = new Date();
        const year = now.getFullYear();
        const month = now.getMonth() + 1; // 从0开始
        const monthName = "月";
        const dayName = "日";
        const day = now.getDate();
        
        const date = String(month) + monthName + String(day) + dayName;

        // weekday
        const dayOfWeek = now.getDay();
        const weekDays = ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六'];
        const dayOfWeekName = weekDays[dayOfWeek];

        // time
        const hours = String(now.getHours()).padStart(2, '0');
        const minutes = String(now.getMinutes()).padStart(2, '0');
        
        // lunar
        const solar= Solar.fromYmd(year,month,day);
        const lunarDate = solar.getLunar();
        const lunardate = String(lunarDate.getMonthInChinese()) + '月' + String(lunarDate.getDayInChinese()) + '日';
        
        document.getElementById('hour').textContent = hours;
        document.getElementById('minute').textContent = minutes;
        document.getElementById('date').textContent = date;
        document.getElementById('weekday').textContent = dayOfWeekName;
        document.getElementById('lunarday').textContent = lunardate;
    }
        
    updateTime();
        
    setInterval(updateTime, 1000);
</script>
<!-- 一言 -->
<script type="text/javascript" src="https://international.v1.hitokoto.cn?encode=js&amp;charset=utf-8&amp;&amp;c=j&amp;c=k&amp;c=l"></script>

<script>
    let isExpanded= 0;
    document.addEventListener('DOMContentLoaded', (event) => {
        const dropdown = document.getElementById('search-down');
        const selectEngine = document.getElementById('select-engine');
        selectEngine.addEventListener('click', () => {
            isExpanded = !isExpanded;
            if(isExpanded) expandDropdown();
            else foldDropdown();
        });
    });
    function foldDropdown(){
        document.getElementById('search-down').style.transform = `scaleY(0)`;
        isExpanded = 0;
    }
    function expandDropdown(){
        document.getElementById('search-down').style.transform = `scaleY(1)`;
        isExpanded = 1;
    }

</script>
<script>
    function changeEngine(actionUrl,index) {
        document.getElementById('search-form').action = actionUrl;
        var engineIcon = document.getElementById('engine-icon');
        switch(index){
            case 0:
                engineIcon.src = '../rc/bing.svg';
                break;
            case 1:
                engineIcon.src='../rc/google.png';
                break;
        }
        console.log(actionUrl);
    }
</script>

</body>

</html>